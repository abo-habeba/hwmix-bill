import{_ as x,S as y,r,A as w,Q as C,ar as k,l as I,k as a,W as v,g as R,o as f,d as e,a5 as s,u as B,N as D,a1 as F,a2 as N,a4 as c,a6 as m,c as P,E as S,s as T,as as h,a9 as A,b as E,h as W,$ as j}from"./index-CjjdYkdB.js";const q={key:0},L={__name:"edit",setup(M){y();const i=R(),V=W(),p=r(!1),g=r(i.params.id),_=w(),t=r(null),n=r(null),U=()=>{if(console.log(t.value),t.value&&t.value.type.startsWith("image/")){const d=new FileReader;d.onload=l=>{n.value=l.target.result},d.readAsDataURL(t.value)}else n.value=null},o=r({});C(()=>{i.params.id&&(p.value=!0,k("company",g.value,!0).then(d=>{o.value=d,console.log(" company.value.logo",d.logo),n.value=d.logo,console.log("imagePreview",n)}).finally(d=>{p.value=!1}))});function b(){t.value&&(o.value.logo=t.value),j("company",o.value,i.params.id).then(d=>{_.fetchUser(),V.go(-1)})}return(d,l)=>(f(),I(v,null,{default:a(()=>[e(c,null,{default:a(()=>[e(s,{cols:"12"},{default:a(()=>[e(v,{elevation:"0",loading:p.value,title:B(i).params.id?"تعديل الشركة":"اضافة شركة",class:"ma-4"},{default:a(()=>[e(D),e(F,null,{default:a(()=>[e(N,{class:"mt-6"},{default:a(()=>[e(c,null,{default:a(()=>[e(s,{sm:"6",md:"4",cols:"12"},{default:a(()=>[e(m,{modelValue:o.value.name,"onUpdate:modelValue":l[0]||(l[0]=u=>o.value.name=u),label:" اسم الشركة "},null,8,["modelValue"])]),_:1}),e(s,{sm:"6",md:"4",cols:"12"},{default:a(()=>[e(m,{modelValue:o.value.field,"onUpdate:modelValue":l[1]||(l[1]=u=>o.value.field=u),label:" التخصص  "},null,8,["modelValue"])]),_:1}),e(s,{cols:"12",sm:"6",md:"4"},{default:a(()=>[e(m,{required:"",modelValue:o.value.email,"onUpdate:modelValue":l[2]||(l[2]=u=>o.value.email=u),label:"الايميل",placeholder:"johndoe@gmail.com",type:"email"},null,8,["modelValue"])]),_:1}),e(s,{cols:"12",sm:"6",md:"4"},{default:a(()=>[e(m,{modelValue:o.value.phone,"onUpdate:modelValue":l[3]||(l[3]=u=>o.value.phone=u),label:" رقم الهاتف ",placeholder:"0123456789"},null,8,["modelValue"])]),_:1}),e(s,{cols:"12",sm:"6",md:"4"},{default:a(()=>[e(m,{modelValue:o.value.description,"onUpdate:modelValue":l[4]||(l[4]=u=>o.value.description=u),label:" وصف  ",placeholder:"نبذه عن الشركة ومجالها"},null,8,["modelValue"])]),_:1}),e(s,{cols:"12",sm:"6",md:"4"},{default:a(()=>[e(m,{modelValue:o.value.address,"onUpdate:modelValue":l[5]||(l[5]=u=>o.value.address=u),label:" العنوان  ",placeholder:"عنوان الشركة"},null,8,["modelValue"])]),_:1}),e(s,{cols:"12",sm:"6",md:"4"},{default:a(()=>[e(s,{cols:"12",md:"6"},{default:a(()=>[n.value?(f(),P("div",q,[e(S,{src:n.value,class:"mb-2","aspect-ratio":"1",cover:""},null,8,["src"])])):T("",!0)]),_:1}),e(s,{cols:"12"},{default:a(()=>[e(h,{modelValue:t.value,"onUpdate:modelValue":l[6]||(l[6]=u=>t.value=u),label:"اختر شعار","prepend-icon":"ri-image-add-fill",accept:"image/*",chips:"",placeholder:"اختر شعار للشركة",onChange:U},null,8,["modelValue"])]),_:1})]),_:1}),e(s,{cols:"12",class:"d-flex flex-wrap gap-4"},{default:a(()=>[e(A,{onClick:b},{default:a(()=>l[7]||(l[7]=[E(" حفظ ")])),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["loading","title"])]),_:1})]),_:1})]),_:1}))}},Q=x(L,[["__scopeId","data-v-d87fd70a"]]);export{Q as default};
