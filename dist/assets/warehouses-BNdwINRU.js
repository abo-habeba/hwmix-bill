import{r as s,Q as q,m as k,n as a,ay as S,ah as W,o as f,d as l,b as n,a2 as m,aa as x,N as A,a as E,c as I,C as O,ad as b,t as _,F as L,v as M,X as y,a1 as w,a7 as Q,a8 as i,al as V,au as R,aq as U,$ as D,Z as $,aE as v,a0 as X,aF as Z}from"./index-Cdh-_j1X.js";const j={class:"d-flex flex-wrap gap-2 pa-3"},J={__name:"warehouses",setup(z){const d=s(!1),r=s(!1),g=s(null),u=s({name:"",location:"",manager_name:"",capacity:null,status:"active",company_id:"",created_by:""}),p=s([]),B=s([{name:"نشط",value:"active"},{name:"غير نشط",value:"inactive"}]);function N(){if(!u.value.name){v.error("اسم المخزن مطلوب");return}X("warehouse",u.value,!1,!0,!0).then(()=>{C(),d.value=!1,v.success("تم حفظ المخزن بنجاح"),u.value={name:"",location:"",manager_name:"",capacity:null,status:"active",company_id:"",created_by:""}}).catch(()=>v.error("حدث خطأ أثناء حفظ المخزن"))}function F(o){g.value=o,r.value=!0}function T(o){Z("warehouse",o).then(()=>{C(),r.value=!1,v.success("تم حذف المخزن بنجاح")}).catch(()=>v.error("حدث خطأ أثناء حذف المخزن"))}function C(){W("warehouses").then(o=>{p.value=o.data})}return q(()=>{C()}),(o,e)=>(f(),k(S,null,{default:a(()=>[l(m,{color:"primary",onClick:e[0]||(e[0]=t=>d.value=!0)},{default:a(()=>e[11]||(e[11]=[n("اضافة مخزن جديد")])),_:1}),l(y,{class:"mt-4 pa-3"},{default:a(()=>[l(x,null,{default:a(()=>e[12]||(e[12]=[n("المخازن")])),_:1}),l(A),E("div",j,[(f(!0),I(L,null,O(p.value,t=>(f(),k(b,{class:"pa-1",key:t.id,closable:"","onClick:close":G=>F(t.id)},{default:a(()=>[n(_(t.name),1)]),_:2},1032,["onClick:close"]))),128)),p.value.length===0?(f(),k(b,{key:0},{default:a(()=>e[13]||(e[13]=[n("لا توجد مخازن حتى الآن")])),_:1})):M("",!0)])]),_:1}),l($,{modelValue:d.value,"onUpdate:modelValue":e[7]||(e[7]=t=>d.value=t),"max-width":"500px"},{default:a(()=>[l(y,null,{default:a(()=>[l(x,null,{default:a(()=>e[14]||(e[14]=[n("اضافة مخزن جديد")])),_:1}),l(w,null,{default:a(()=>[l(Q,{dense:""},{default:a(()=>[l(i,{cols:"12"},{default:a(()=>[l(V,{modelValue:u.value.name,"onUpdate:modelValue":e[1]||(e[1]=t=>u.value.name=t),label:"اسم المخزن",rules:[t=>!!t||"اسم المخزن مطلوب"],required:"",dense:""},null,8,["modelValue","rules"])]),_:1}),l(i,{cols:"12"},{default:a(()=>[l(V,{modelValue:u.value.location,"onUpdate:modelValue":e[2]||(e[2]=t=>u.value.location=t),label:"الموقع",dense:""},null,8,["modelValue"])]),_:1}),l(i,{cols:"12"},{default:a(()=>[l(V,{modelValue:u.value.manager_name,"onUpdate:modelValue":e[3]||(e[3]=t=>u.value.manager_name=t),label:"اسم المدير",dense:""},null,8,["modelValue"])]),_:1}),l(i,{cols:"12"},{default:a(()=>[l(V,{modelValue:u.value.capacity,"onUpdate:modelValue":e[4]||(e[4]=t=>u.value.capacity=t),label:"السعة",type:"number",dense:""},null,8,["modelValue"])]),_:1}),l(i,{cols:"12"},{default:a(()=>[l(R,{modelValue:u.value.status,"onUpdate:modelValue":e[5]||(e[5]=t=>u.value.status=t),"item-value":"value","item-title":"name",items:B.value,label:"الحالة",required:"",dense:""},null,8,["modelValue","items"])]),_:1})]),_:1})]),_:1}),l(U,null,{default:a(()=>[l(D),l(m,{color:"blue darken-1",text:"",onClick:e[6]||(e[6]=t=>d.value=!1)},{default:a(()=>e[15]||(e[15]=[n("الغاء")])),_:1}),l(m,{color:"blue darken-1",text:"",onClick:N},{default:a(()=>e[16]||(e[16]=[n("حفظ")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),l($,{modelValue:r.value,"onUpdate:modelValue":e[10]||(e[10]=t=>r.value=t),"max-width":"400px"},{default:a(()=>[l(y,null,{default:a(()=>[l(x,null,{default:a(()=>e[17]||(e[17]=[n("تأكيد الحذف")])),_:1}),l(w,null,{default:a(()=>e[18]||(e[18]=[n("هل أنت متأكد من حذف هذا المخزن؟")])),_:1}),l(U,null,{default:a(()=>[l(D),l(m,{color:"grey darken-1",text:"",onClick:e[8]||(e[8]=t=>r.value=!1)},{default:a(()=>e[19]||(e[19]=[n("الغاء")])),_:1}),l(m,{color:"red darken-1",text:"",onClick:e[9]||(e[9]=t=>T(g.value))},{default:a(()=>e[20]||(e[20]=[n("حذف")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}))}};export{J as default};
