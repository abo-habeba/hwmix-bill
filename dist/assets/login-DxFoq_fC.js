import{_ as y,P as w,$ as p,r as f,c as k,d as a,j as l,U as C,f as j,o as x,a0 as B,a as r,u as M,a1 as V,a2 as R,a3 as T,a4 as L,a5 as n,k as N,b as m,t as U,W as I,q as S,a6 as g,a7 as $,a8 as h,a9 as q,g as E,aa as F,S as H}from"./index-arSf0HzX.js";import{l as K}from"./logo-CLSw1aK9.js";const P={class:"auth-wrapper d-flex align-center justify-center pa-4"},A=["innerHTML"],D={class:"d-flex align-center justify-space-between flex-wrap my-6"},W={__name:"login",setup(z){const b=E(),_=j();w(()=>{_.query.sessionExpired==="1"&&p.error("انتهت صلاحية الجلسة الحالية. الرجاء تسجيل الدخول من جديد.")});const t=f({login:"",password:"",remember:!1}),u=f(!1);function c(){if(u.value=!1,!t.value.login||!t.value.password){p.error("جميع الحقول مطلوبة"),u.value="جميع الحقول مطلوبة";return}F("login",t.value,!0).then(()=>{b.push("/dashboard")}).catch(s=>{var d,o,v;console.log(s);let e=(s==null?void 0:s.message)||"فشل تسجيل الدخول، تحقق من البيانات";((d=s==null?void 0:s.response)==null?void 0:d.status)===422?e="بيانات الدخول غير صحيحة":((o=s==null?void 0:s.response)==null?void 0:o.status)===429?e="عدد محاولات الدخول كبير، يرجى المحاولة لاحقاً":((v=s==null?void 0:s.response)==null?void 0:v.status)===500&&(e="خطأ في الخادم، حاول لاحقاً"),u.value=e,p.error(e)})}const i=f(!1);return(s,e)=>{const d=H("RouterLink");return x(),k("div",P,[a(C,{class:"auth-card pa-4 pt-7","max-width":"448"},{default:l(()=>[a(B,{class:"justify-center"},{default:l(()=>[a(d,{to:"/",class:"d-flex align-center gap-3"},{default:l(()=>[r("div",{class:"d-flex",innerHTML:M(K)},null,8,A)]),_:1})]),_:1}),a(V,{class:"pt-2"},{default:l(()=>e[4]||(e[4]=[r("h4",{class:"text-h4 mb-1 text-center"},"مرحبا بك في هونكس 👋🏻",-1),r("p",{class:"mb-0 text-center"},"قم بتسجيل الدخول لبدا الاستخدام",-1)])),_:1}),a(V,null,{default:l(()=>[a(R,{onSubmit:T(()=>{},["prevent"])},{default:l(()=>[a(L,null,{default:l(()=>[a(n,{cols:"12"},{default:l(()=>[u.value?(x(),N(I,{key:0,color:"#C51162",theme:"dark",border:""},{default:l(()=>[m(U(u.value),1)]),_:1})):S("",!0)]),_:1}),a(n,{cols:"12"},{default:l(()=>[a(g,{modelValue:t.value.login,"onUpdate:modelValue":e[0]||(e[0]=o=>t.value.login=o),label:"الهاتف او الايميل"},null,8,["modelValue"])]),_:1}),a(n,{cols:"12"},{default:l(()=>[a(g,{modelValue:t.value.password,"onUpdate:modelValue":e[1]||(e[1]=o=>t.value.password=o),label:"الباسورد",placeholder:"············",type:i.value?"text":"password","append-inner-icon":i.value?"ri-eye-off-line":"ri-eye-line","onClick:appendInner":e[2]||(e[2]=o=>i.value=!i.value),onKeyup:$(c,["enter"])},null,8,["modelValue","type","append-inner-icon"]),r("div",D,[a(h,{modelValue:t.value.remember,"onUpdate:modelValue":e[3]||(e[3]=o=>t.value.remember=o),label:" تذكرني "},null,8,["modelValue"]),e[5]||(e[5]=r("a",{class:"text-primary",href:"javascript:void(0)"}," هل نسيت كلمة السر ؟ ",-1))]),a(q,{block:"",type:"submit",onClick:c},{default:l(()=>e[6]||(e[6]=[m(" دخول ")])),_:1})]),_:1}),a(n,{cols:"12",class:"text-center text-base"},{default:l(()=>[e[8]||(e[8]=r("span",null," لسة جديد ؟",-1)),a(d,{class:"text-primary ms-2",to:"/register"},{default:l(()=>e[7]||(e[7]=[m(" اعمل حساب من هنا ")])),_:1})]),_:1}),a(n,{cols:"12",class:"d-flex align-center"}),a(n,{cols:"12",class:"text-center"})]),_:1})]),_:1})]),_:1})]),_:1})])}}},O=y(W,[["__scopeId","data-v-7b83cf9a"]]);export{O as default};
