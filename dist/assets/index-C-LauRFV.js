import{r as p,w as T,j as I,o as b,l as x,k as l,d as e,ai as C,b as u,t as $,a2 as w,a3 as S,a4 as j,a7 as B,bf as D,av as F,aa as c,W as g,$ as U,Q as q,ak as A,V as y,Y as M,aq as N,aH as O}from"./index-Cfr7rQY6.js";const H={__name:"InvoiceTypeForm",props:{modelValue:Object},emits:["saved","close"],setup(V,{emit:s}){const d=V,i=s,a=p({name:"",description:"",id:null});T(()=>d.modelValue,o=>{a.value=o.id?o:{name:"",description:"",id:null}},{immediate:!0});const v=I(()=>{var o;return(o=a.value)!=null&&o.id?"تعديل نوع فاتورة":"إضافة نوع فاتورة"});function _(){const o=a.value.id??void 0;U("invoice-type",a.value,o,!0,!0).then(()=>{i("saved"),i("close")})}return(o,t)=>(b(),x(g,null,{default:l(()=>[e(C,null,{default:l(()=>[u($(v.value),1)]),_:1}),e(w,null,{default:l(()=>[e(S,{onSubmit:j(_,["prevent"])},{default:l(()=>[e(B,{class:"my-2",modelValue:a.value.name,"onUpdate:modelValue":t[0]||(t[0]=r=>a.value.name=r),label:"اسم النوع",required:""},null,8,["modelValue"]),e(D,{modelValue:a.value.description,"onUpdate:modelValue":t[1]||(t[1]=r=>a.value.description=r),label:"الوصف"},null,8,["modelValue"]),e(F,{class:"justify-end"},{default:l(()=>[e(c,{color:"primary",type:"submit"},{default:l(()=>t[3]||(t[3]=[u("حفظ")])),_:1}),e(c,{color:"secondary",onClick:t[2]||(t[2]=r=>o.$emit("close"))},{default:l(()=>t[4]||(t[4]=[u("إلغاء")])),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}},Q={__name:"InvoiceTypeTable",setup(V){const s=p([]),d=p(!1),i=p(!1),a=p({name:"",description:"",id:null});function v(){d.value=!0,N("invoice-types").then(m=>{s.value=m.data,console.log(s.value),d.value=!1})}function _(m){a.value={...m},i.value=!0}function o(){a.value={name:"",description:"",id:null},i.value=!0}function t(m){confirm("هل أنت متأكد من حذف النوع؟")&&O("invoice-type",m.id).then(v)}function r(){i.value=!1,v()}return q(v),(m,n)=>(b(),x(g,null,{default:l(()=>[e(C,{class:"ma-1"},{default:l(()=>n[2]||(n[2]=[u(" أنواع الفواتير ")])),_:1}),e(c,{class:"ms-5 mb-5",color:"primary",onClick:o},{default:l(()=>n[3]||(n[3]=[u("إضافة نوع فاتورة")])),_:1}),e(A,{items:s.value,loading:d.value,headers:[{title:"الاسم",value:"name"},{title:"الوصف",value:"description"},{title:"تاريخ الإنشاء",value:"created_at"},{title:"إجراءات",value:"actions",sortable:!1}],"items-per-page-text":"عدد العناصر في الصفحة:","no-data-text":"لا توجد بيانات"},{"item.actions":l(({item:f})=>[e(c,{icon:"",onClick:k=>_(f)},{default:l(()=>[e(y,null,{default:l(()=>n[4]||(n[4]=[u("ri-pencil-line")])),_:1})]),_:2},1032,["onClick"]),e(c,{icon:"",color:"error",onClick:k=>t(f)},{default:l(()=>[e(y,null,{default:l(()=>n[5]||(n[5]=[u("ri-delete-bin-line")])),_:1})]),_:2},1032,["onClick"])]),_:1},8,["items","loading"]),e(M,{modelValue:i.value,"onUpdate:modelValue":n[1]||(n[1]=f=>i.value=f),"max-width":"500"},{default:l(()=>[e(H,{"model-value":a.value,onSaved:r,onClose:n[0]||(n[0]=f=>i.value=!1)},null,8,["model-value"])]),_:1},8,["modelValue"])]),_:1}))}},Y={__name:"index",setup(V){return(s,d)=>(b(),x(Q))}};export{Y as default};
