import{r as i,Q as U,l as p,k as a,aI as E,aq as M,o as f,d as l,b as u,aa as r,ai as V,N as S,a5 as q,c as z,B as H,a6 as B,D as L,a as O,t as c,Z as x,a4 as b,F as Q,X as R,s as W,W as k,a2 as w,a7 as X,av as y,Y as D,a0 as g,$ as Y,aH as Z}from"./index-Cfr7rQY6.js";const j={class:"text-lg fw-medium"},K={__name:"brands",setup(G){const s=i(!1),d=i(!1),C=i(null),n=i({name:""}),m=i([]);function _(){n.value={name:""},s.value=!0}function N(){s.value=!1,n.value={name:""}}function $(){if(!n.value.name){g.error("اسم العلامة التجارية مطلوب");return}const o=!!n.value.id;Y("brand",n.value,o?n.value.id:!1,!0,!0).then(()=>{v(),s.value=!1,n.value={name:""}}).catch(e=>{const t=e||(o?"حدث خطأ أثناء تعديل العلامة التجارية":"حدث خطأ أثناء حفظ العلامة التجارية");g.error(t)})}function A(o){C.value=o,d.value=!0}function T(o){Z("brand/delete",o,!0,!0).then(()=>{v(),d.value=!1}).catch(e=>{g.error(e)})}function v(){M("brands").then(o=>{m.value=o})}function F(o){n.value={...o},console.log(o),s.value=!0}return U(()=>{v()}),(o,e)=>(f(),p(E,null,{default:a(()=>[l(r,{"prepend-icon":"ri-add-line",color:"primary",onClick:_},{default:a(()=>e[5]||(e[5]=[u("اضافة علامة تجارية جديدة")])),_:1}),l(k,{class:"mt-4 pa-3"},{default:a(()=>[l(V,null,{default:a(()=>e[6]||(e[6]=[u(" العلامات التجارية")])),_:1}),l(S,{class:"ma-1"}),l(q,{class:"flex-wrap ma-2",style:{gap:"16px"}},{default:a(()=>[(f(!0),z(Q,null,H(m.value,t=>(f(),p(B,{key:t.id,cols:"12",sm:"auto",class:"d-flex align-center elevation-2 pa-1 rounded",style:{background:"white","min-width":"280px"}},{default:a(()=>[l(L,{variant:"text",icon:"ri-price-tag-3-line",color:"primary",size:"32",class:"me-3"}),O("div",j,c(t.name),1),l(x),l(r,{icon:"ri-edit-line",variant:"text",color:"success",onClick:b(I=>F(t),["stop"]),title:"تعديل العلامة التجارية",class:"mx-1"},null,8,["onClick"]),l(r,{icon:"ri-delete-bin-line",variant:"text",color:"error",onClick:b(I=>A(t.id),["stop"]),title:"حذف العلامة التجارية",class:"mx-1"},null,8,["onClick"])]),_:2},1024))),128)),m.value.length===0?(f(),p(B,{key:0,cols:"12"},{default:a(()=>[l(R,{type:"info",border:"start",class:"text-center"},{default:a(()=>e[7]||(e[7]=[u(" لا توجد علامات تجارية حتى الآن ")])),_:1})]),_:1})):W("",!0)]),_:1})]),_:1}),l(D,{modelValue:s.value,"onUpdate:modelValue":e[1]||(e[1]=t=>s.value=t),"max-width":"500px"},{default:a(()=>[l(k,null,{default:a(()=>[l(V,null,{default:a(()=>{var t;return[u(c((t=n.value)!=null&&t.id?"تعديل العلامة التجارية":"اضافة علامة تجارية جديدة"),1)]}),_:1}),l(w,null,{default:a(()=>[l(X,{modelValue:n.value.name,"onUpdate:modelValue":e[0]||(e[0]=t=>n.value.name=t),label:"اسم العلامة التجارية"},null,8,["modelValue"])]),_:1}),l(y,null,{default:a(()=>[l(x),l(r,{color:"blue darken-1",text:"",onClick:N},{default:a(()=>e[8]||(e[8]=[u("الغاء")])),_:1}),l(r,{color:"blue darken-1",text:"",onClick:$},{default:a(()=>[u(c(n.value.id?"تعديل":"حفظ"),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),l(D,{modelValue:d.value,"onUpdate:modelValue":e[4]||(e[4]=t=>d.value=t),"max-width":"400px"},{default:a(()=>[l(k,null,{default:a(()=>[l(V,null,{default:a(()=>e[9]||(e[9]=[u("تأكيد الحذف")])),_:1}),l(w,null,{default:a(()=>e[10]||(e[10]=[u("هل أنت متأكد من حذف هذه العلامة التجارية؟")])),_:1}),l(y,null,{default:a(()=>[l(x),l(r,{color:"grey darken-1",text:"",onClick:e[2]||(e[2]=t=>d.value=!1)},{default:a(()=>e[11]||(e[11]=[u("الغاء")])),_:1}),l(r,{color:"red darken-1",text:"",onClick:e[3]||(e[3]=t=>T(C.value))},{default:a(()=>e[12]||(e[12]=[u("حذف")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}))}};export{K as default};
