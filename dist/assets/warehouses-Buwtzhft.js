import{r as s,Q as W,l as x,k as a,aF as S,ap as q,o as v,d as l,b as n,a9 as i,ai as C,N as A,a as I,c as O,B as _,al as b,t as E,F as L,s as M,W as y,a1 as w,a4 as Q,a5 as m,a6 as V,ay as R,au as B,Z as U,Y as D,aa as f,$ as Y,aB as Z}from"./index-BuxtrsIF.js";const j={class:"d-flex flex-wrap gap-2 pa-3"},J={__name:"warehouses",setup(z){const d=s(!1),r=s(!1),g=s(null),u=s({name:"",location:"",manager_name:"",capacity:null,status:"active",company_id:"",created_by:""}),p=s([]),$=s([{name:"نشط",value:"active"},{name:"غير نشط",value:"inactive"}]);function N(){if(!u.value.name){f.error("اسم المخزن مطلوب");return}Y("warehouse",u.value,!1,!0,!0).then(()=>{k(),d.value=!1,f.success("تم حفظ المخزن بنجاح"),u.value={name:"",location:"",manager_name:"",capacity:null,status:"active",company_id:"",created_by:""}}).catch(()=>f.error("حدث خطأ أثناء حفظ المخزن"))}function F(o){g.value=o,r.value=!0}function T(o){Z("warehouse",o).then(()=>{k(),r.value=!1,f.success("تم حذف المخزن بنجاح")}).catch(()=>f.error("حدث خطأ أثناء حذف المخزن"))}function k(){q("warehouses").then(o=>{p.value=o.data})}return W(()=>{k()}),(o,e)=>(v(),x(S,null,{default:a(()=>[l(i,{color:"primary",onClick:e[0]||(e[0]=t=>d.value=!0)},{default:a(()=>e[11]||(e[11]=[n("اضافة مخزن جديد")])),_:1}),l(y,{class:"mt-4 pa-3"},{default:a(()=>[l(C,null,{default:a(()=>e[12]||(e[12]=[n("المخازن")])),_:1}),l(A),I("div",j,[(v(!0),O(L,null,_(p.value,t=>(v(),x(b,{class:"pa-1",key:t.id,closable:"","onClick:close":G=>F(t.id)},{default:a(()=>[n(E(t.name),1)]),_:2},1032,["onClick:close"]))),128)),p.value.length===0?(v(),x(b,{key:0},{default:a(()=>e[13]||(e[13]=[n("لا توجد مخازن حتى الآن")])),_:1})):M("",!0)])]),_:1}),l(D,{modelValue:d.value,"onUpdate:modelValue":e[7]||(e[7]=t=>d.value=t),"max-width":"500px"},{default:a(()=>[l(y,null,{default:a(()=>[l(C,null,{default:a(()=>e[14]||(e[14]=[n("اضافة مخزن جديد")])),_:1}),l(w,null,{default:a(()=>[l(Q,{dense:""},{default:a(()=>[l(m,{cols:"12"},{default:a(()=>[l(V,{modelValue:u.value.name,"onUpdate:modelValue":e[1]||(e[1]=t=>u.value.name=t),label:"اسم المخزن",rules:[t=>!!t||"اسم المخزن مطلوب"],required:"",dense:""},null,8,["modelValue","rules"])]),_:1}),l(m,{cols:"12"},{default:a(()=>[l(V,{modelValue:u.value.location,"onUpdate:modelValue":e[2]||(e[2]=t=>u.value.location=t),label:"الموقع",dense:""},null,8,["modelValue"])]),_:1}),l(m,{cols:"12"},{default:a(()=>[l(V,{modelValue:u.value.manager_name,"onUpdate:modelValue":e[3]||(e[3]=t=>u.value.manager_name=t),label:"اسم المدير",dense:""},null,8,["modelValue"])]),_:1}),l(m,{cols:"12"},{default:a(()=>[l(V,{modelValue:u.value.capacity,"onUpdate:modelValue":e[4]||(e[4]=t=>u.value.capacity=t),label:"السعة",type:"number",dense:""},null,8,["modelValue"])]),_:1}),l(m,{cols:"12"},{default:a(()=>[l(R,{modelValue:u.value.status,"onUpdate:modelValue":e[5]||(e[5]=t=>u.value.status=t),"item-value":"value","item-title":"name",items:$.value,label:"الحالة",required:"",dense:""},null,8,["modelValue","items"])]),_:1})]),_:1})]),_:1}),l(B,null,{default:a(()=>[l(U),l(i,{color:"blue darken-1",text:"",onClick:e[6]||(e[6]=t=>d.value=!1)},{default:a(()=>e[15]||(e[15]=[n("الغاء")])),_:1}),l(i,{color:"blue darken-1",text:"",onClick:N},{default:a(()=>e[16]||(e[16]=[n("حفظ")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),l(D,{modelValue:r.value,"onUpdate:modelValue":e[10]||(e[10]=t=>r.value=t),"max-width":"400px"},{default:a(()=>[l(y,null,{default:a(()=>[l(C,null,{default:a(()=>e[17]||(e[17]=[n("تأكيد الحذف")])),_:1}),l(w,null,{default:a(()=>e[18]||(e[18]=[n("هل أنت متأكد من حذف هذا المخزن؟")])),_:1}),l(B,null,{default:a(()=>[l(U),l(i,{color:"grey darken-1",text:"",onClick:e[8]||(e[8]=t=>r.value=!1)},{default:a(()=>e[19]||(e[19]=[n("الغاء")])),_:1}),l(i,{color:"red darken-1",text:"",onClick:e[9]||(e[9]=t=>T(g.value))},{default:a(()=>e[20]||(e[20]=[n("حذف")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}))}};export{J as default};
