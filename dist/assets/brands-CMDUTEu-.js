import{r as i,Q as E,l as p,k as a,aD as I,ap as M,o as m,d as l,b as o,a9 as s,ai as V,N as S,a4 as z,c as L,B as O,a5 as B,D as Q,a as R,t as x,Z as k,a3 as D,F as W,X,s as Y,W as g,a1 as b,a6 as Z,au as w,Y as y,aa as f,$ as j,aB as q}from"./index-uYt5PlKH.js";const G={class:"text-lg fw-medium"},K={__name:"brands",setup(H){const r=i(!1),d=i(!1),C=i(null),u=i({name:""}),v=i([]);function _(){u.value={name:""},r.value=!0}function N(){r.value=!1,u.value={name:""}}function $(){if(!u.value.name){f.error("اسم العلامة التجارية مطلوب");return}const n=!!u.value.id;j("brand",u.value,n?u.value.id:!1,!0,!0).then(()=>{c(),r.value=!1,f.success(n?"تم تعديل العلامة التجارية بنجاح":"تم حفظ العلامة التجارية بنجاح"),u.value={name:""}}).catch(e=>{const t=e||(n?"حدث خطأ أثناء تعديل العلامة التجارية":"حدث خطأ أثناء حفظ العلامة التجارية");f.error(t)})}function A(n){C.value=n,d.value=!0}function T(n){q("brand/delete",n,!0,!0).then(()=>{c(),d.value=!1,f.success("تم حذف العلامة التجارية بنجاح")}).catch(e=>{f.error(e)})}function c(){M("brands").then(n=>{v.value=n.data})}function F(n){u.value={...n},console.log(n),r.value=!0}return E(()=>{c()}),(n,e)=>(m(),p(I,null,{default:a(()=>[l(s,{"prepend-icon":"ri-add-line",color:"primary",onClick:_},{default:a(()=>e[5]||(e[5]=[o("اضافة علامة تجارية جديدة")])),_:1}),l(g,{class:"mt-4 pa-3"},{default:a(()=>[l(V,null,{default:a(()=>e[6]||(e[6]=[o(" العلامات التجارية")])),_:1}),l(S,{class:"ma-1"}),l(z,{class:"flex-wrap ma-2",style:{gap:"16px"}},{default:a(()=>[(m(!0),L(W,null,O(v.value,t=>(m(),p(B,{key:t.id,cols:"12",sm:"auto",class:"d-flex align-center elevation-2 pa-1 rounded",style:{background:"white","min-width":"280px"}},{default:a(()=>[l(Q,{variant:"text",icon:"ri-price-tag-3-line",color:"primary",size:"32",class:"me-3"}),R("div",G,x(t.name),1),l(k),l(s,{icon:"ri-edit-line",variant:"text",color:"success",onClick:D(U=>F(t),["stop"]),title:"تعديل العلامة التجارية",class:"mx-1"},null,8,["onClick"]),l(s,{icon:"ri-delete-bin-line",variant:"text",color:"error",onClick:D(U=>A(t.id),["stop"]),title:"حذف العلامة التجارية",class:"mx-1"},null,8,["onClick"])]),_:2},1024))),128)),v.value.length===0?(m(),p(B,{key:0,cols:"12"},{default:a(()=>[l(X,{type:"info",border:"start",class:"text-center"},{default:a(()=>e[7]||(e[7]=[o(" لا توجد علامات تجارية حتى الآن ")])),_:1})]),_:1})):Y("",!0)]),_:1})]),_:1}),l(y,{modelValue:r.value,"onUpdate:modelValue":e[1]||(e[1]=t=>r.value=t),"max-width":"500px"},{default:a(()=>[l(g,null,{default:a(()=>[l(V,null,{default:a(()=>{var t;return[o(x((t=u.value)!=null&&t.id?"تعديل العلامة التجارية":"اضافة علامة تجارية جديدة"),1)]}),_:1}),l(b,null,{default:a(()=>[l(Z,{modelValue:u.value.name,"onUpdate:modelValue":e[0]||(e[0]=t=>u.value.name=t),label:"اسم العلامة التجارية"},null,8,["modelValue"])]),_:1}),l(w,null,{default:a(()=>[l(k),l(s,{color:"blue darken-1",text:"",onClick:N},{default:a(()=>e[8]||(e[8]=[o("الغاء")])),_:1}),l(s,{color:"blue darken-1",text:"",onClick:$},{default:a(()=>[o(x(u.value.id?"تعديل":"حفظ"),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),l(y,{modelValue:d.value,"onUpdate:modelValue":e[4]||(e[4]=t=>d.value=t),"max-width":"400px"},{default:a(()=>[l(g,null,{default:a(()=>[l(V,null,{default:a(()=>e[9]||(e[9]=[o("تأكيد الحذف")])),_:1}),l(b,null,{default:a(()=>e[10]||(e[10]=[o("هل أنت متأكد من حذف هذه العلامة التجارية؟")])),_:1}),l(w,null,{default:a(()=>[l(k),l(s,{color:"grey darken-1",text:"",onClick:e[2]||(e[2]=t=>d.value=!1)},{default:a(()=>e[11]||(e[11]=[o("الغاء")])),_:1}),l(s,{color:"red darken-1",text:"",onClick:e[3]||(e[3]=t=>T(C.value))},{default:a(()=>e[12]||(e[12]=[o("حذف")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}))}};export{K as default};
