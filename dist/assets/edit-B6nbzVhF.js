import{_ as x,R as k,r as t,z as C,P as w,al as D,k as B,j as a,U as v,f as P,o as V,d as e,a5 as d,u as R,M as N,a1 as S,a2 as T,a4 as g,a6 as n,c as j,D as q,q as E,a9 as F,b as M,g as z,Z as O,$ as Z}from"./index-DDCnkNdi.js";import{I as $}from"./ImagePickerDialog-DNB0tnzU.js";const A={key:0},G={__name:"edit",setup(H){k();const m=P(),_=z(),r=t(!1),b=t(m.params.id),y=C();t(null);const c=t(null),p=t(!1),i=t([]),I=u=>{i.value=u,console.log(i.value),o.value.logo=u},o=t({});w(()=>{m.params.id&&(r.value=!0,D("company",b.value,!0).then(u=>{o.value=u,console.log(" company.value.logo",u.logo),c.value=u.logo,console.log("imagePreview",c)}).finally(u=>{r.value=!1}))});function U(){const u={...o.value};u.images_ids=i.value,delete u.logo,O("company",u,m.params.id).then(l=>{y.fetchUser(),_.go(-1)}).catch(l=>{console.error("Error saving company:",l),Z.error("حدث خطأ أثناء حفظ الشركة")})}return(u,l)=>(V(),B(v,null,{default:a(()=>[e(g,null,{default:a(()=>[e(d,{cols:"12"},{default:a(()=>[e(v,{elevation:"0",loading:r.value,title:R(m).params.id?"تعديل الشركة":"اضافة شركة",class:"ma-4"},{default:a(()=>[e(N),e(S,null,{default:a(()=>[e(T,{class:"mt-6"},{default:a(()=>[e(g,null,{default:a(()=>[e(d,{sm:"6",md:"4",cols:"12"},{default:a(()=>[e(n,{modelValue:o.value.name,"onUpdate:modelValue":l[0]||(l[0]=s=>o.value.name=s),label:" اسم الشركة "},null,8,["modelValue"])]),_:1}),e(d,{sm:"6",md:"4",cols:"12"},{default:a(()=>[e(n,{modelValue:o.value.field,"onUpdate:modelValue":l[1]||(l[1]=s=>o.value.field=s),label:" التخصص  "},null,8,["modelValue"])]),_:1}),e(d,{cols:"12",sm:"6",md:"4"},{default:a(()=>[e(n,{required:"",modelValue:o.value.email,"onUpdate:modelValue":l[2]||(l[2]=s=>o.value.email=s),label:"الايميل",placeholder:"johndoe@gmail.com",type:"email"},null,8,["modelValue"])]),_:1}),e(d,{cols:"12",sm:"6",md:"4"},{default:a(()=>[e(n,{modelValue:o.value.phone,"onUpdate:modelValue":l[3]||(l[3]=s=>o.value.phone=s),label:" رقم الهاتف ",placeholder:"0123456789"},null,8,["modelValue"])]),_:1}),e(d,{cols:"12",sm:"6",md:"4"},{default:a(()=>[e(n,{modelValue:o.value.description,"onUpdate:modelValue":l[4]||(l[4]=s=>o.value.description=s),label:" وصف  ",placeholder:"نبذه عن الشركة ومجالها"},null,8,["modelValue"])]),_:1}),e(d,{cols:"12",sm:"6",md:"4"},{default:a(()=>[e(n,{modelValue:o.value.address,"onUpdate:modelValue":l[5]||(l[5]=s=>o.value.address=s),label:" العنوان  ",placeholder:"عنوان الشركة"},null,8,["modelValue"])]),_:1}),e(d,{cols:"12",sm:"6",md:"4"},{default:a(()=>[e(d,{cols:"12",md:"6"},{default:a(()=>{var s,f;return[(s=o.value)!=null&&s.logo?(V(),j("div",A,[e(q,{src:(f=o.value)==null?void 0:f.logo,class:"mb-2","aspect-ratio":"1",cover:""},null,8,["src"])])):E("",!0)]}),_:1}),e(d,{cols:"12"},{default:a(()=>[e($,{modelValue:p.value,"onUpdate:modelValue":l[6]||(l[6]=s=>p.value=s),onClose:I},null,8,["modelValue"])]),_:1})]),_:1}),e(d,{cols:"12",class:"d-flex flex-wrap gap-4"},{default:a(()=>[e(F,{onClick:U},{default:a(()=>l[7]||(l[7]=[M(" حفظ ")])),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["loading","title"])]),_:1})]),_:1})]),_:1}))}},L=x(G,[["__scopeId","data-v-b3c7bc07"]]);export{L as default};
