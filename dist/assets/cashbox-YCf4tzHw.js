import{A as ie,r,j as le,o as v,c as Z,d as e,k as a,b as d,aa as $,W as q,ai as te,a5 as K,a6 as x,bl as xe,bm as X,a2 as N,t as c,u as F,l as p,aA as oe,s as g,X as ee,a7 as J,a as n,av as Q,Z as G,Y as se,F as ae,$ as ue,Q as Ce,aq as ne,w as re,ap as we,a4 as Te,aI as $e,_ as he,ay as Ue,B as pe,ax as De,aB as Ne,az as Ie,N as Se,aQ as Me,bg as Pe,I as Ae,n as Oe,V as me,a0 as z,bn as qe}from"./index-Dj2BcGnU.js";import{_ as Re}from"./ContextMenu-Ddtsp6YE.js";const ze={__name:"CashBoxSwitcher",props:{box:{required:!0}},emits:["operation-success"],setup(h,{emit:k}){const M=k,U=ie(),V=r(!1),B=r(null),o=r(!1),y=r(1),C=r(null),T=r("ÿßÿÆÿ™ÿ± ÿÆÿ≤ŸÜÿ©"),O=r(""),m=h;console.log(m.box);const b=r(m.box),w=le(()=>U.user.cashBoxes.filter(f=>f.id!==m.box.id)),I=()=>{y.value++};function P(){o.value=!0}async function D(){let f={to_user_id:U.user.id,amount:C.value,to_cashBoxId:T.value.id,cashBoxId:m.box.id,description:O.value};try{await ue("cashBox/transfer",f,!1,!0,!0),await U.fetchUser(),M("operation-success"),V.value=!1}catch(t){console.log(t)}}const R=le(()=>{var f;return!(C.value&&Number(C.value)>0&&Number(C.value)<=Number(((f=b.value)==null?void 0:f.balance)||0)&&T.value!=="ÿßÿÆÿ™ÿ± ÿÆÿ≤ŸÜÿ©")});return(f,t)=>(v(),Z(ae,null,[e($,{class:"ma-2",variant:"text",onClick:t[0]||(t[0]=i=>V.value=!0)},{default:a(()=>t[8]||(t[8]=[d(" ÿßŸÑÿ™ÿ≠ŸàŸäŸÑ ÿ®ŸäŸÜ ÿÆÿ≤ÿßÿ¶ŸÜŸÉ ")])),_:1}),e(se,{modelValue:V.value,"onUpdate:modelValue":t[7]||(t[7]=i=>V.value=i),"max-width":"500px"},{default:a(()=>[e(q,{class:"pa-5"},{default:a(()=>[e(te,{class:"pa-0"},{default:a(()=>t[9]||(t[9]=[d("ÿßŸÑÿ™ÿ≠ŸàŸäŸÑ ÿ®ŸäŸÜ ÿÆÿ≤ÿßÿ¶ŸÜŸÉ")])),_:1}),e(K,null,{default:a(()=>[e(x,{cols:"12"},{default:a(()=>[e(q,{class:"mx-auto pa-2","max-width":"500"},{default:a(()=>[e(xe,{modelValue:y.value,"onUpdate:modelValue":t[4]||(t[4]=i=>y.value=i)},{default:a(()=>[e(X,{value:1},{default:a(()=>[e(x,{cols:"12",class:"text-center ma-0 pa-0"},{default:a(()=>[e(N,{class:"pa-1"},{default:a(()=>t[10]||(t[10]=[d("ÿ±ÿµŸäÿØŸÉ ÿßŸÑÿ≠ÿßŸÑŸä ")])),_:1}),e(N,{class:"pa-0"},{default:a(()=>[d(c(b.value.balance),1)]),_:1})]),_:1}),e(x,{cols:"12"},{default:a(()=>[F(U).user.cashBoxes?(v(),p(oe,{key:0,rounded:"",label:"ÿßŸÑÿÆÿ≤ŸÜÿ© ÿßŸÑŸÖÿ≠ŸàŸÑ ÿ•ŸÑŸäŸáÿß",modelValue:T.value,"onUpdate:modelValue":[t[1]||(t[1]=i=>T.value=i),P],items:F(w),"item-value":"id","item-title":"name","return-object":""},null,8,["modelValue","items"])):g("",!0)]),_:1}),B.value?(v(),p(x,{key:0,cols:"12",class:"ma-0 pa-0"},{default:a(()=>[Number(b.value.balance)<Number(C.value)?(v(),p(ee,{key:0,class:"py-1 my-3",border:"start",type:"error",variant:"outlined"},{default:a(()=>t[11]||(t[11]=[d(" ÿßŸÑÿ±ÿµŸäÿØ ÿßŸÑÿ≠ÿßŸÑŸä ŸÑÿß ŸäŸÉŸÅŸä ")])),_:1})):g("",!0)]),_:1})):g("",!0),e(x,{cols:"12"},{default:a(()=>[e(J,{modelValue:C.value,"onUpdate:modelValue":t[2]||(t[2]=i=>C.value=i),type:"Number",label:"ÿßŸÑŸÖÿ®ŸÑÿ∫",rounded:"",placeholder:"ÿßÿØÿÆŸÑ ÿßŸÑŸÖÿ®ŸÑÿ∫ ÿßŸÑŸÖÿ±ÿßÿØ ÿ™ÿ≠ŸàŸäŸÑŸá"},null,8,["modelValue"])]),_:1}),e(x,{cols:"12"},{default:a(()=>[e(J,{modelValue:O.value,"onUpdate:modelValue":t[3]||(t[3]=i=>O.value=i),label:"ÿßŸÑŸàÿµŸÅ",rounded:"",placeholder:"ÿßÿØÿÆŸÑ ŸÖŸÑÿßÿ≠ÿ∏ÿ© ÿßŸà ŸàÿµŸÅ ÿßŸà ÿ≥ÿ®ÿ® ŸÑŸÑÿ™ÿ≠ŸàŸäŸÑ ÿßÿÆÿ™Ÿäÿßÿ±Ÿä"},null,8,["modelValue"])]),_:1})]),_:1}),e(X,{value:2},{default:a(()=>[e(x,{cols:"12",class:"text-center"},{default:a(()=>[e(N,{class:"pa-0"},{default:a(()=>t[12]||(t[12]=[d("ÿ™ÿ≠ŸàŸäŸÑ")])),_:1}),e(te,{class:"pa-0"},{default:a(()=>[d(c(C.value),1)]),_:1}),e(N,{class:"pa-0"},{default:a(()=>[d("ŸÖŸÜ "+c(b.value.name),1)]),_:1}),e(N,{class:"pa-0"},{default:a(()=>[d("ÿßŸÑŸä "+c(T.value.name),1)]),_:1})]),_:1})]),_:1}),e(X,{value:3},{default:a(()=>t[13]||(t[13]=[n("div",{class:"pa-4 text-center"},"ÿ™ŸÖ ÿßŸÑÿ™ÿ≠ŸàŸäŸÑ",-1)])),_:1})]),_:1},8,["modelValue"]),e(Q,null,{default:a(()=>[y.value>1?(v(),p($,{key:0,class:"mx-10",variant:"text",onClick:t[5]||(t[5]=i=>y.value--)},{default:a(()=>t[14]||(t[14]=[d(" ÿßŸÑÿ≥ÿßÿ®ŸÇ ")])),_:1})):g("",!0),e(G),y.value<2?(v(),p($,{key:1,class:"mx-10",disabled:F(R),variant:"text",color:"primary",onClick:I},{default:a(()=>t[15]||(t[15]=[d(" ÿßŸÑÿ™ÿßŸÑŸä ")])),_:1},8,["disabled"])):g("",!0)]),_:1})]),_:1})]),_:1}),e(Q,null,{default:a(()=>[e($,{text:"ÿ•ÿ∫ŸÑÿßŸÇ","prepend-icon":"ri-close-line",onClick:t[6]||(t[6]=i=>V.value=!1)}),e(G),y.value>1?(v(),p($,{key:0,text:"ÿ™ÿ£ŸÉŸäÿØ","prepend-icon":"ri-check-line",onClick:D})):g("",!0)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}},Fe={class:"detail"},We={class:"value"},je={class:"detail"},Ee={class:"value"},Je={class:"detail"},Le={class:"value"},Qe={class:"detail"},Xe={class:"value"},Ye={class:"detail"},Ze={class:"value"},Ge={class:"detail"},He={class:"value"},Ke={class:"detail"},ea={class:"value"},aa={class:"detail"},la={class:"value"},ta={class:"detail"},sa={class:"value"},oa={class:"my-3"},ua={class:"value"},na={__name:"TransactionDialog",props:{transaction:{required:!0}},emits:["operation-success"],setup(h,{expose:k,emit:M}){ie();const U=r(!1);function V(){U.value=!0}return k({operationDialog:V}),(B,o)=>(v(),p(se,{modelValue:U.value,"onUpdate:modelValue":o[1]||(o[1]=y=>U.value=y),"max-width":"500px"},{default:a(()=>[e(q,{class:"pa-5"},{default:a(()=>[o[12]||(o[12]=n("h2",null,"ÿ™ŸÅÿßÿµŸäŸÑ ÿßŸÑÿπŸÖŸÑŸäÿ©",-1)),n("div",Fe,[o[2]||(o[2]=n("span",{class:"label"},"ŸÜŸàÿπ ÿßŸÑÿπŸÖŸÑŸäÿ©",-1)),n("span",We,c(h.transaction.type),1)]),n("div",je,[o[3]||(o[3]=n("span",{class:"label"},"ÿßŸÑŸÖÿ®ŸÑÿ∫",-1)),n("span",Ee,c(h.transaction.amount),1)]),n("div",Je,[o[4]||(o[4]=n("span",{class:"label"},"ÿßŸÑÿ™ÿßÿ±ŸäÿÆ",-1)),n("span",Le,c(h.transaction.created_at),1)]),n("div",Qe,[o[5]||(o[5]=n("span",{class:"label"},"ÿßŸÑÿ±ÿµŸäÿØ ŸÇÿ®ŸÑ ",-1)),n("span",Xe,c(h.transaction.balance_before),1)]),n("div",Ye,[o[6]||(o[6]=n("span",{class:"label"},"ÿßŸÑÿ±ÿµŸäÿØ ÿ®ÿπÿØ ",-1)),n("span",Ze,c(h.transaction.balance_after),1)]),n("div",Ge,[o[7]||(o[7]=n("span",{class:"label"},"ÿßŸÑŸàÿµŸÅ",-1)),n("span",He,c(h.transaction.description),1)]),n("div",Ke,[o[8]||(o[8]=n("span",{class:"label"},"ÿßÿ≥ŸÖ ÿßŸÑÿÆÿ≤ŸÜÿ©",-1)),n("span",ea,c(h.transaction.cashbox_name),1)]),o[13]||(o[13]=n("h4",null,"ÿ™ŸÅÿßÿµŸäŸÑ ÿßŸÑŸÖÿ≥ÿ™ŸÑŸÖ",-1)),n("div",aa,[o[9]||(o[9]=n("span",{class:"label"},"ÿßÿ≥ŸÖ ÿßŸÑŸÖÿ≥ÿ™ŸÑŸÖ",-1)),n("span",la,c(h.transaction.target_user.nickname),1)]),n("div",ta,[o[10]||(o[10]=n("span",{class:"label"},"ÿßÿ≥ŸÖ ÿßŸÑÿÆÿ≤ŸÜÿ© ",-1)),n("span",sa,c(h.transaction.target_cashbox_name),1)]),o[14]||(o[14]=n("hr",null,null,-1)),n("div",oa,[o[11]||(o[11]=n("h4",null,"ÿ™ŸÅÿßÿµŸäŸÑ ÿßŸÑÿπŸÖŸÑŸäÿ©",-1)),n("span",ua,c(h.transaction.readable_description),1)]),e($,{class:"pa-0",text:"ÿ•ÿ∫ŸÑÿßŸÇ","prepend-icon":"ri-close-line",onClick:o[0]||(o[0]=y=>U.value=!1)})]),_:1})]),_:1},8,["modelValue"]))}},ra={__name:"DataTable",props:{cashBoxId:{type:[Number,String],required:!1}},setup(h,{expose:k}){const M=h,U=r([]),V=r(0),B=r([]),o=r(null),y=r(!1),C=r(10),T=r({page:1,sortBy:[],itemsPerPage:10}),O=r([{title:"#",key:"index",sortable:!1},{title:"ŸÜŸàÿπ ÿßŸÑÿπŸÖŸÑŸäÿ©",key:"type",align:"start"},{title:"ÿßŸÑŸÖÿ®ŸÑÿ∫",key:"amount",align:"start"},{title:"ÿßŸÑÿ™ÿßÿ±ŸäÿÆ",key:"created_at",align:"center"},{title:"ÿßŸÑŸàÿµŸÅ",key:"description",sortable:!1,align:"center"},{title:"ÿ•ÿ¨ÿ±ÿßÿ°ÿßÿ™",key:"action",sortable:!1,align:"end"}]);Ce(()=>{w()});const m=r(null),b=r(null);async function w(){if(!M.cashBoxId){console.warn("cashBoxId ÿ∫Ÿäÿ± ŸÖŸàÿ¨ŸàÿØÿå ŸÑÿß ŸäŸÖŸÉŸÜ ÿ¨ŸÑÿ® ÿßŸÑŸÖÿπÿßŸÖŸÑÿßÿ™."),B.value=[],V.value=0,y.value=!1;return}y.value=!0;try{const{page:t,itemsPerPage:i,sortBy:A}=T.value,W=A.length?A[0].key:"id",S=A.length&&A[0].order?A[0].order:"desc",Y=i===-1?V.value:i,H=await ne(`transactions/user/${M.cashBoxId}`,{page:t,per_page:Y,sort_by:W,sort_order:S});B.value=H.data||[],V.value=H.total||0}catch(t){console.error("ÿÆÿ∑ÿ£ ŸÅŸä ÿ¨ŸÑÿ® ÿßŸÑŸÖÿπÿßŸÖŸÑÿßÿ™:",t),B.value=[],V.value=0}finally{y.value=!1}}re([()=>M.cashBoxId,T],([t,i],[A,W])=>{(t!==A||JSON.stringify(i)!==JSON.stringify(W))&&w()},{deep:!0,immediate:!0});const I=(t,{item:i})=>{o.value=i,m.value&&m.value.operationDialog()},P=(t,{item:i})=>{o.value=i,t.preventDefault(),b.value&&b.value.showContextMenu(t)},D=r([{title:"ÿπÿ±ÿ∂ ÿßŸÑÿ™ŸÅÿßÿµŸäŸÑ",color:"#17a2b8",icon:"ri-eye-line",callback:()=>{o.value&&I(null,{item:o.value}),R()}}]),R=()=>{b.value&&b.value.colsContextMenu()};function f({item:t,index:i}){return{class:t.status==="completed"?"success-row":t.status==="failed"?"error-row":"default-row","data-index":i}}return k({fetchTransactions:w}),(t,i)=>{const A=na,W=Re;return v(),p($e,{id:"dataTable",style:{position:"relative !important"}},{default:a(()=>[e(we,{style:{"white-space":"nowrap"},"item-value":"id","items-per-page":C.value,"onUpdate:itemsPerPage":i[0]||(i[0]=S=>C.value=S),options:T.value,"onUpdate:options":[i[1]||(i[1]=S=>T.value=S),w],headers:O.value,items:B.value,"items-length":V.value,loading:y.value,hover:"","show-current-page":"","row-props":f,modelValue:U.value,"onUpdate:modelValue":i[2]||(i[2]=S=>U.value=S),"loading-text":"ÿ¨ÿßÿ±Ÿä ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™","no-data-text":"ŸÑÿß ÿ™Ÿàÿ¨ÿØ ÿ®ŸäÿßŸÜÿßÿ™","items-per-page-text":"ÿπÿØÿØ ÿßŸÑÿµŸÅŸàŸÅ ŸÅŸä ÿßŸÑÿµŸÅÿ≠ÿ©","onContextmenu:row":P,"onClick:row":I},{"item.index":a(({index:S})=>[d(c(S+1),1)]),"item.action":a(({item:S})=>[e($,{density:"compact",variant:"text",color:"#0086CD","prepend-icon":"ri-more-2-fill",onClick:Te(Y=>P(Y,{item:S}),["stop"])},null,8,["onClick"])]),_:1},8,["items-per-page","options","headers","items","items-length","loading","modelValue"]),e(A,{ref_key:"transactionDialogRef",ref:m,transaction:o.value},null,8,["transaction"]),e(W,{ref_key:"contextMenuRef",ref:b,actions:D.value},null,8,["actions"])]),_:1})}}},ia={style:{"font-size":"30px"}},da={key:0},va={class:"pa-4 text-center"},ca={__name:"cashbox",setup(h){const k=ie(),M=r(!1),U=r(!1),V=r(!1),B=r(null),o=r(!1),y=r(null),C=r(""),T=r([]),O=r("ÿßÿØÿÆŸÑ ÿ±ŸÇŸÖ Ÿáÿßÿ™ŸÅ ÿ£Ÿà ŸÉŸàÿØ ŸÑŸÑÿ®ÿ≠ÿ´"),m=r(null),b=r(null),w=r(null),I=r(null),P=r(""),D=r(1),R=r(!1),f=r({name:"",balance:null,cash_box_type_id:null}),t=r([]),i=r(!1);let A=null;function W(u){C.value=u,clearTimeout(A),C.value?A=setTimeout(()=>{S()},300):(T.value=[],V.value=!1,O.value="ÿßÿØÿÆŸÑ ÿ±ŸÇŸÖ Ÿáÿßÿ™ŸÅ ÿ£Ÿà ŸÉŸàÿØ ŸÑŸÑÿ®ÿ≠ÿ´")}async function S(){V.value=!0,T.value=[],O.value="ŸÑÿß ÿ™Ÿàÿ¨ÿØ ÿ®ŸäÿßŸÜÿßÿ™ ŸÑÿπÿ±ÿ∂Ÿáÿß";try{const u=await ne("users/search",{search:C.value},!1,!1,!1);u.data.length?T.value=u.data:O.value=`ŸÑŸÖ Ÿäÿ™ŸÖ ÿßŸÑÿπÿ´Ÿàÿ± ÿπŸÑŸä "${C.value}"`}catch(u){console.error("ÿÆÿ∑ÿ£ ŸÅŸä ÿßŸÑÿ®ÿ≠ÿ´:",u),z.error("ÿ≠ÿØÿ´ ÿÆÿ∑ÿ£ ÿ£ÿ´ŸÜÿßÿ° ÿßŸÑÿ®ÿ≠ÿ´ÿå Ÿäÿ±ÿ¨Ÿâ ÿßŸÑŸÖÿ≠ÿßŸàŸÑÿ© ŸÑÿßÿ≠ŸÇŸãÿß."),O.value="ÿ≠ÿØÿ´ ÿÆÿ∑ÿ£ ÿ£ÿ´ŸÜÿßÿ° ÿßŸÑÿ®ÿ≠ÿ´ÿå Ÿäÿ±ÿ¨Ÿâ ÿßŸÑŸÖÿ≠ÿßŸàŸÑÿ© ŸÑÿßÿ≠ŸÇŸãÿß."}finally{V.value=!1}}re(m,u=>{if(u){const l=k.user.cashBoxes.find(s=>s.id===B.value);l&&(b.value=l,I.value=u.cashBoxes.find(s=>s.cash_type===l.cash_type)||u.cashBoxes[0],M.value=!0,D.value=1)}});const Y=le(()=>!m.value||!b.value?!1:m.value.cashBoxes.some(u=>u.cash_type===b.value.cash_type)),H=le(()=>{var u;return!w.value||Number(w.value)<=0||Number(w.value)>Number(((u=b.value)==null?void 0:u.balance)||0)||!I.value});async function ye(){const u={to_user_id:m.value.id,amount:w.value,to_cashBoxId:I.value.id,cashBoxId:B.value,description:P.value};try{await ue("cashBox/transfer",u,!1,!0,!0),z.success("ÿ™ŸÖ ÿßŸÑÿ™ÿ≠ŸàŸäŸÑ ÿ®ŸÜÿ¨ÿßÿ≠."),await k.fetchUser(),de(),D.value=3,w.value=null,P.value=""}catch(l){console.error("ÿÆÿ∑ÿ£ ŸÅŸä ÿßŸÑÿ™ÿ≠ŸàŸäŸÑ:",l),z.error("ÿ≠ÿØÿ´ ÿÆÿ∑ÿ£ ÿ£ÿ´ŸÜÿßÿ° ÿßŸÑÿ™ÿ≠ŸàŸäŸÑÿå Ÿäÿ±ÿ¨Ÿâ ÿßŸÑŸÖÿ≠ÿßŸàŸÑÿ© ŸÑÿßÿ≠ŸÇŸãÿß.")}}async function be(u){try{await qe(`user/${k.user.id}/cashbox/${u}/set-default`,!0,!0),k.user.cashBoxes.forEach(l=>{l.is_default=l.id===u?"1":"0"}),z.success("ÿ™ŸÖ ÿ™ÿπŸäŸäŸÜ ÿßŸÑÿÆÿ≤ŸÜÿ© ŸÉÿßŸÅÿ™ÿ±ÿßÿ∂Ÿäÿ©.")}catch(l){console.error("ÿÆÿ∑ÿ£ ŸÅŸä ÿ™ÿπŸäŸäŸÜ ÿßŸÑÿßŸÅÿ™ÿ±ÿßÿ∂Ÿä:",l),z.error("ÿ≠ÿØÿ´ ÿÆÿ∑ÿ£ ÿ£ÿ´ŸÜÿßÿ° ÿ™ÿπŸäŸäŸÜ ÿßŸÑÿÆÿ≤ŸÜÿ© ŸÉÿßŸÅÿ™ÿ±ÿßÿ∂Ÿäÿ©.")}}function de(){y.value&&typeof y.value.fetchTransactions=="function"&&y.value.fetchTransactions()}function Ve(){M.value=!1,D.value=1,o.value=!1,C.value="",T.value=[],m.value=null,b.value=null,w.value=null,I.value=null,P.value=""}function _e(){R.value=!0,ge()}async function ge(){try{const u=await ne("cashBoxTypes",{per_page:-1},!1,!1,!1);t.value=u.map(s=>({id:s.id,title:s.name,value:s.name}));const l=t.value.find(s=>s.title==="ŸÜŸÇÿØŸä");l&&(f.cash_box_type_id=l.id),console.log("defaultType",l.id),f.value.cash_box_type_id=l.value}catch(u){console.error("ÿÆÿ∑ÿ£ ŸÅŸä ÿ¨ŸÑÿ® ÿ£ŸÜŸàÿßÿπ ÿßŸÑÿÆÿ≤ÿßÿ¶ŸÜ:",u),z.error("ÿ≠ÿØÿ´ ÿÆÿ∑ÿ£ ÿ£ÿ´ŸÜÿßÿ° ÿ¨ŸÑÿ® ÿ£ŸÜŸàÿßÿπ ÿßŸÑÿÆÿ≤ÿßÿ¶ŸÜ.")}}async function ke(){i.value=!0;try{await ue("cashBox",f.value,!1,!0,!0),z.success("ÿ™ŸÖ ÿ•ÿ∂ÿßŸÅÿ© ÿßŸÑÿÆÿ≤ŸÜÿ© ÿ®ŸÜÿ¨ÿßÿ≠."),await k.fetchUser(),ve()}catch(u){console.error("ÿÆÿ∑ÿ£ ŸÅŸä ÿ•ÿ∂ÿßŸÅÿ© ÿßŸÑÿÆÿ≤ŸÜÿ©:",u),z.error("ÿ≠ÿØÿ´ ÿÆÿ∑ÿ£ ÿ£ÿ´ŸÜÿßÿ° ÿ•ÿ∂ÿßŸÅÿ© ÿßŸÑÿÆÿ≤ŸÜÿ©ÿå Ÿäÿ±ÿ¨Ÿâ ÿßŸÑŸÖÿ≠ÿßŸàŸÑÿ© ŸÑÿßÿ≠ŸÇŸãÿß.")}finally{i.value=!1}}function ve(){R.value=!1,f.value={name:"",balance:null,cash_box_type_id:null}}function Be(u){if(!u)return"";const l=u.full_name||"ÿ®ÿØŸàŸÜ ÿßÿ≥ŸÖ",s=u.nickname?`(${u.nickname})`:"",j=u.phone?`üìû ${u.phone}`:"ÿ®ÿØŸàŸÜ Ÿáÿßÿ™ŸÅ",_=u.id?`ŸÉŸàÿØ ${u.id}`:"";return`${l} ${s} ${j} ${_}`.replace(/\s+/g," ").trim()}return re(()=>{var u;return(u=k.user)==null?void 0:u.cashBoxes},u=>{u&&u.length>0&&!B.value&&(B.value=u[0].id)},{immediate:!0}),(u,l)=>(v(),Z(ae,null,[e(x,{cols:"12"},{default:a(()=>[e(q,{class:"pa-2"},{default:a(()=>{var s,j;return[e(K,{class:"align-center"},{default:a(()=>[e(x,{cols:"auto"},{default:a(()=>l[18]||(l[18]=[n("h2",{class:"text-h5"},"ÿßŸÑÿÆÿ≤ÿßÿ¶ŸÜ",-1)])),_:1}),e(x,{cols:"auto",class:"mr-auto my-6"},{default:a(()=>[e($,{class:"btn-add",color:"primary",variant:"text","prepend-icon":"ri-add-line",onClick:_e},{default:a(()=>l[19]||(l[19]=[d(" ÿ•ÿ∂ÿßŸÅÿ© ÿÆÿ≤ŸÜÿ© ")])),_:1})]),_:1})]),_:1}),(j=(s=F(k).user)==null?void 0:s.cashBoxes)!=null&&j.length?(v(),p(q,{key:0,class:"pa-2"},{default:a(()=>[e(Ue,{modelValue:B.value,"onUpdate:modelValue":l[0]||(l[0]=_=>B.value=_),"align-tabs":"center"},{default:a(()=>[(v(!0),Z(ae,null,pe(F(k).user.cashBoxes,_=>(v(),p(De,{key:_.id,value:_.id},{default:a(()=>[d(c(_.name),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"]),e(Ne,{modelValue:B.value,"onUpdate:modelValue":l[5]||(l[5]=_=>B.value=_)},{default:a(()=>[(v(!0),Z(ae,null,pe(F(k).user.cashBoxes,_=>(v(),p(Ie,{class:"ma-2 pa-2",key:_.id,value:_.id},{default:a(()=>[e(q,{class:"text-center mx-auto ma-2 pa-2","max-width":"368"},{default:a(()=>[e(N,null,{default:a(()=>[e(K,null,{default:a(()=>[e(x,{cols:"12"},{default:a(()=>[_.is_default!=="1"?(v(),p($,{key:0,variant:"text",class:"ma-0 py-0",onClick:E=>be(_.id)},{default:a(()=>l[20]||(l[20]=[d(" ÿ™ÿπŸäŸäŸÜ ŸÉÿßŸÅÿ™ÿ±ÿßÿ∂Ÿä ")])),_:2},1032,["onClick"])):g("",!0)]),_:2},1024),e(x,{cols:"12"},{default:a(()=>[n("span",ia,c(_.balance),1),l[21]||(l[21]=n("span",{style:{"font-size":"30px"}}," ÿ¨ ",-1))]),_:2},1024)]),_:2},1024)]),_:2},1024),e(Se),e(Q,null,{default:a(()=>[e($,{class:"ma-1",text:o.value?"ÿ•ŸÑÿ∫ÿßÿ° ÿßŸÑÿ™ÿ≠ŸàŸäŸÑ":"ÿ™ÿ≠ŸàŸäŸÑ ŸÜŸÇŸàÿØ",onClick:l[1]||(l[1]=E=>o.value=!o.value)},null,8,["text"]),e(G),F(k).user.cashBoxes.length>1?(v(),p(ze,{key:0,box:_,onOperationSuccess:de},null,8,["box"])):g("",!0)]),_:2},1024),e(Me,{class:"pa-2"},{default:a(()=>[o.value?(v(),Z("div",da,[e(x,{cols:"12"},{default:a(()=>[e(Pe,{"item-title":Be,"prepend-inner-icon":"ri-search-line",class:"mx-auto",density:"comfortable",placeholder:"ÿßÿØÿÆŸÑ ÿ±ŸÇŸÖ ÿßŸÑŸáÿßÿ™ŸÅ ÿßŸà ŸÉŸàÿØ ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖ",variant:"solo",rounded:"",modelValue:m.value,"onUpdate:modelValue":l[2]||(l[2]=E=>m.value=E),items:T.value,"return-object":"",loading:V.value,"no-data-text":O.value,"onUpdate:search":W,onFocus:l[3]||(l[3]=E=>U.value=!0),onBlur:l[4]||(l[4]=E=>U.value=!1)},{item:a(({props:E,item:L})=>{var ce,fe;return[e(Ae,Oe({ref_for:!0},E,{title:(ce=L==null?void 0:L.raw)==null?void 0:ce.nickname,subtitle:(fe=L==null?void 0:L.raw)==null?void 0:fe.phone}),null,16,["title","subtitle"])]}),_:1},8,["modelValue","items","loading","no-data-text"])]),_:1})])):g("",!0)]),_:1})]),_:2},1024)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),_:1})):(v(),p(q,{key:1},{default:a(()=>[e(N,{class:"text-center"},{default:a(()=>[e(me,{color:"primary",size:"100"},{default:a(()=>l[22]||(l[22]=[d("ri-cash-line")])),_:1}),l[23]||(l[23]=n("div",{class:"mt-2"},"ŸÑÿß ÿ™Ÿàÿ¨ÿØ ÿÆÿ≤ÿßÿ¶ŸÜ ŸÜŸÇŸàÿØ ŸÖÿ™ÿßÿ≠ÿ©",-1))]),_:1})]),_:1})),e(ra,{ref_key:"dataTable",ref:y,cashBoxId:B.value},null,8,["cashBoxId"])]}),_:1})]),_:1}),e(se,{modelValue:M.value,"onUpdate:modelValue":l[12]||(l[12]=s=>M.value=s),"max-width":"500px",persistent:""},{default:a(()=>[M.value?(v(),p(q,{key:0,class:"pa-5"},{default:a(()=>[e(K,null,{default:a(()=>[e(x,{cols:"12"},{default:a(()=>[e(q,{class:"mx-auto pa-2","max-width":"500"},{default:a(()=>[e(xe,{modelValue:D.value,"onUpdate:modelValue":l[9]||(l[9]=s=>D.value=s)},{default:a(()=>[e(X,{value:1},{default:a(()=>[e(x,{cols:"12",class:"text-center ma-0 pa-0"},{default:a(()=>[e(N,{class:"pa-1"},{default:a(()=>l[24]||(l[24]=[d("ÿ±ÿµŸäÿØŸÉ ÿßŸÑÿ≠ÿßŸÑŸä")])),_:1}),e(N,{class:"pa-0"},{default:a(()=>{var s;return[d(c(((s=b.value)==null?void 0:s.balance)||0)+" ÿ¨",1)]}),_:1})]),_:1}),m.value?(v(),p(x,{key:0,cols:"12",class:"ma-0 pa-0"},{default:a(()=>[Y.value?g("",!0):(v(),p(ee,{key:0,class:"py-1 my-3",border:"start",type:"warning",variant:"outlined"},{default:a(()=>{var s;return[d(c(m.value.nickname)+" ŸÑŸäÿ≥ ŸÑÿØŸäŸá ÿÆÿ≤ŸÜÿ© ŸÖŸÜ ÿßŸÑŸÜŸàÿπ "+c((s=b.value)==null?void 0:s.cash_type)+"ÿå ÿßŸÑÿ±ÿ¨ÿßÿ° ÿßÿÆÿ™Ÿäÿßÿ± ÿÆÿ≤ŸÜÿ© ÿ£ÿÆÿ±Ÿâ. ",1)]}),_:1}))]),_:1})):g("",!0),e(x,{cols:"12"},{default:a(()=>{var s,j;return[(j=(s=m.value)==null?void 0:s.cashBoxes)!=null&&j.length?(v(),p(oe,{key:0,rounded:"",label:"ÿßŸÑÿÆÿ≤ŸÜÿ© ÿßŸÑŸÖÿ≠ŸàŸÑ ÿ•ŸÑŸäŸáÿß",modelValue:I.value,"onUpdate:modelValue":l[6]||(l[6]=_=>I.value=_),items:m.value.cashBoxes,"item-value":"id","item-title":"name"},null,8,["modelValue","items"])):(v(),p(ee,{key:1,type:"info",variant:"outlined",class:"my-3"},{default:a(()=>l[25]||(l[25]=[d(" ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖ ÿßŸÑŸÖÿ≠ÿØÿØ ŸÑŸäÿ≥ ŸÑÿØŸäŸá ÿÆÿ≤ÿßÿ¶ŸÜ ŸÖÿ™ÿßÿ≠ÿ© ŸÑŸÑÿ™ÿ≠ŸàŸäŸÑ ÿ•ŸÑŸäŸáÿß. ")])),_:1}))]}),_:1}),e(x,{cols:"12",class:"ma-0 pa-0"},{default:a(()=>{var s;return[Number(((s=b.value)==null?void 0:s.balance)||0)<Number(w.value)?(v(),p(ee,{key:0,class:"py-1 my-3",border:"start",type:"error",variant:"outlined"},{default:a(()=>l[26]||(l[26]=[d(" ÿßŸÑÿ±ÿµŸäÿØ ÿßŸÑÿ≠ÿßŸÑŸä ŸÑÿß ŸäŸÉŸÅŸä ŸÑÿ•ÿ™ŸÖÿßŸÖ Ÿáÿ∞ÿß ÿßŸÑÿ™ÿ≠ŸàŸäŸÑ. ")])),_:1})):g("",!0)]}),_:1}),e(x,{cols:"12"},{default:a(()=>[e(J,{modelValue:w.value,"onUpdate:modelValue":l[7]||(l[7]=s=>w.value=s),type:"Number",label:"ÿßŸÑŸÖÿ®ŸÑÿ∫",rounded:"",placeholder:"ÿßÿØÿÆŸÑ ÿßŸÑŸÖÿ®ŸÑÿ∫ ÿßŸÑŸÖÿ±ÿßÿØ ÿ™ÿ≠ŸàŸäŸÑŸá"},null,8,["modelValue"])]),_:1}),e(x,{cols:"12"},{default:a(()=>[e(J,{modelValue:P.value,"onUpdate:modelValue":l[8]||(l[8]=s=>P.value=s),label:"ÿßŸÑŸàÿµŸÅ",rounded:"",placeholder:"ÿßÿØÿÆŸÑ ŸÖŸÑÿßÿ≠ÿ∏ÿ© ÿßŸà ŸàÿµŸÅ ÿßŸà ÿ≥ÿ®ÿ® ŸÑŸÑÿ™ÿ≠ŸàŸäŸÑ (ÿßÿÆÿ™Ÿäÿßÿ±Ÿä)"},null,8,["modelValue"])]),_:1})]),_:1}),e(X,{value:2},{default:a(()=>[e(x,{cols:"12",class:"text-center"},{default:a(()=>[e(N,{class:"pa-0"},{default:a(()=>l[27]||(l[27]=[d("ÿ™ÿ≠ŸàŸäŸÑ ŸÖÿ®ŸÑÿ∫")])),_:1}),e(te,{class:"pa-0 text-h5"},{default:a(()=>[d(c(w.value)+" ÿ¨",1)]),_:1}),e(N,{class:"pa-0"},{default:a(()=>[d("ŸÖŸÜ "+c(F(k).user.nickname),1)]),_:1}),e(N,{class:"pa-0"},{default:a(()=>{var s;return[d("ÿ•ŸÑŸâ "+c((s=m.value)==null?void 0:s.nickname),1)]}),_:1}),I.value?(v(),p(N,{key:0,class:"pa-0"},{default:a(()=>[d("ŸÑÿÆÿ≤ŸÜÿ©: "+c(I.value.name),1)]),_:1})):g("",!0),P.value?(v(),p(N,{key:1,class:"pa-0"},{default:a(()=>[d("ŸÖŸÑÿßÿ≠ÿ∏ÿ©: "+c(P.value),1)]),_:1})):g("",!0)]),_:1})]),_:1}),e(X,{value:3},{default:a(()=>[n("div",va,[e(me,{color:"success",size:"60"},{default:a(()=>l[28]||(l[28]=[d("ri-checkbox-circle-fill")])),_:1}),l[29]||(l[29]=n("p",{class:"mt-2 text-h6"},"ÿ™ŸÖ ÿßŸÑÿ™ÿ≠ŸàŸäŸÑ ÿ®ŸÜÿ¨ÿßÿ≠!",-1))])]),_:1})]),_:1},8,["modelValue"]),e(Q,null,{default:a(()=>[D.value>1&&D.value<3?(v(),p($,{key:0,class:"mx-10",variant:"text",onClick:l[10]||(l[10]=s=>D.value--)},{default:a(()=>l[30]||(l[30]=[d(" ÿßŸÑÿ≥ÿßÿ®ŸÇ ")])),_:1})):g("",!0),e(G),D.value===1?(v(),p($,{key:1,class:"mx-10",disabled:H.value,variant:"text",color:"primary",onClick:l[11]||(l[11]=s=>D.value++)},{default:a(()=>l[31]||(l[31]=[d(" ÿßŸÑÿ™ÿßŸÑŸä ")])),_:1},8,["disabled"])):g("",!0),D.value===2?(v(),p($,{key:2,class:"mx-10",variant:"text",color:"primary",onClick:ye},{default:a(()=>l[32]||(l[32]=[d(" ÿ™ÿ£ŸÉŸäÿØ ÿßŸÑÿ™ÿ≠ŸàŸäŸÑ ")])),_:1})):g("",!0)]),_:1})]),_:1})]),_:1}),e(Q,null,{default:a(()=>[e($,{text:"ÿ•ÿ∫ŸÑÿßŸÇ","prepend-icon":"ri-close-line",onClick:Ve})]),_:1})]),_:1})]),_:1})):g("",!0)]),_:1},8,["modelValue"]),e(se,{modelValue:R.value,"onUpdate:modelValue":l[17]||(l[17]=s=>R.value=s),"max-width":"500px",persistent:""},{default:a(()=>[e(q,null,{default:a(()=>[d(c(f.value)+" ",1),e(te,{class:"text-h6"},{default:a(()=>l[33]||(l[33]=[d("ÿ•ÿ∂ÿßŸÅÿ© ÿÆÿ≤ŸÜÿ© ÿ¨ÿØŸäÿØÿ©")])),_:1}),e(N,null,{default:a(()=>[e(J,{class:"my-2",modelValue:f.value.name,"onUpdate:modelValue":l[13]||(l[13]=s=>f.value.name=s),label:"ÿßÿ≥ŸÖ ÿßŸÑÿÆÿ≤ŸÜÿ©",required:""},null,8,["modelValue"]),e(oe,{class:"my-2",modelValue:f.value.cash_box_type_id,"onUpdate:modelValue":l[14]||(l[14]=s=>f.value.cash_box_type_id=s),"item-value":"id",items:t.value,label:"ŸÜŸàÿπ ÿßŸÑÿÆÿ≤ŸÜÿ©",required:""},null,8,["modelValue","items"]),e(J,{class:"my-2",modelValue:f.value.description,"onUpdate:modelValue":l[15]||(l[15]=s=>f.value.description=s),label:"ŸàÿµŸÅ ÿßŸÑÿÆÿ≤ŸÜÿ©"},null,8,["modelValue"]),e(J,{class:"my-2",modelValue:f.value.account_number,"onUpdate:modelValue":l[16]||(l[16]=s=>f.value.account_number=s),label:"ÿ±ŸÇŸÖ ÿßŸÑÿ≠ÿ≥ÿßÿ® ÿßŸà ÿßŸÑŸÖÿ≠ŸÅÿ∏ÿ©"},null,8,["modelValue"])]),_:1}),e(Q,null,{default:a(()=>[e(G),e($,{color:"grey",onClick:ve,disabled:i.value},{default:a(()=>l[34]||(l[34]=[d("ÿ•ŸÑÿ∫ÿßÿ°")])),_:1},8,["disabled"]),e($,{color:"primary",onClick:ke,loading:i.value,disabled:!f.value.name||!f.value.cash_box_type_id},{default:a(()=>l[35]||(l[35]=[d("ÿ≠ŸÅÿ∏")])),_:1},8,["loading","disabled"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}},ma=he(ca,[["__scopeId","data-v-2e635d0d"]]);export{ma as default};
